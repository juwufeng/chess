import{ar as ie,ah as de,a3 as E,aW as B,d as G,J as pe,A as me,q as M,r as ee,ai as ce,v as D,bu as U,a2 as fe,aR as be,x as _e,R as te,S as ve,o as F,e as $,P as Y,u as a,n as W,aN as R,f as l,w as p,M as T,H as Ne,bv as Ve,b as J,a7 as Z,I as Ee,aG as ge,aZ as q,K as Fe,ae as ye,an as j,af as Ie,ad as he,c as we,g as Q,i as H}from"./index.ed03ce07.js";import{E as Se,a as ke}from"./el-form-item.90f78f9b.js";import{R as X,E as Ce,a as De,b as Be}from"./el-date-picker.4d7addbc.js";import{E as ae}from"./el-input.0bfd428b.js";import{E as xe}from"./el-col.04185f0e.js";import{W as Ae}from"./wangEditor.874d542a.js";import{C as Pe,I as Ue,U as Re}from"./event.776e7e11.js";import{E as Te}from"./index.b015dfd5.js";import"./isEqual.339d3b80.js";import"./_commonjsHelpers.712cc82f.js";import"./index.888fdb9b.js";import"./validator.de87fdc9.js";const Me=ie({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,disabled:Boolean,size:de,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:o=>o===null||E(o)||["min","max"].includes(o),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:o=>o>=0&&o===Number.parseInt(`${o}`,10)},validateEvent:{type:Boolean,default:!0}}),$e={[Pe]:(o,I)=>o!==I,blur:o=>o instanceof FocusEvent,focus:o=>o instanceof FocusEvent,[Ue]:o=>E(o)||B(o),[Re]:o=>E(o)||B(o)},ze=["aria-label","onKeydown"],Ke=["aria-label","onKeydown"],Oe={name:"ElInputNumber"},We=G({...Oe,props:Me,emits:$e,setup(o,{expose:I,emit:N}){const n=o,{t:d}=pe(),m=me("input-number"),y=M(),c=ee({currentValue:n.modelValue,userInput:null}),{formItem:f}=ce(),u=D(()=>E(n.modelValue)&&w(n.modelValue,-1)<n.min),h=D(()=>E(n.modelValue)&&w(n.modelValue)>n.max),v=D(()=>{const e=C(n.step);return U(n.precision)?Math.max(C(n.modelValue),e):(e>n.precision,n.precision)}),S=D(()=>n.controls&&n.controlsPosition==="right"),x=fe(),V=be(),z=D(()=>{if(c.userInput!==null)return c.userInput;let e=c.currentValue;if(B(e))return"";if(E(e)){if(Number.isNaN(e))return"";U(n.precision)||(e=e.toFixed(n.precision))}return e}),k=(e,t)=>{if(U(t)&&(t=v.value),t===0)return Math.round(e);let r=String(e);const i=r.indexOf(".");if(i===-1||!r.replace(".","").split("")[i+t])return e;const A=r.length;return r.charAt(A-1)==="5"&&(r=`${r.slice(0,Math.max(0,A-1))}6`),Number.parseFloat(Number(r).toFixed(t))},C=e=>{if(B(e))return 0;const t=e.toString(),r=t.indexOf(".");let i=0;return r!==-1&&(i=t.length-r-1),i},w=(e,t=1)=>E(e)?k(e+n.step*t):c.currentValue,s=()=>{if(V.value||h.value)return;const e=n.modelValue||0,t=w(e);O(t)},K=()=>{if(V.value||u.value)return;const e=n.modelValue||0,t=w(e,-1);O(t)},L=(e,t)=>{const{max:r,min:i,step:b,precision:g,stepStrictly:A,valueOnClear:P}=n;let _=Number(e);if(B(e)||Number.isNaN(_))return null;if(e===""){if(P===null)return null;_=ye(P)?{min:i,max:r}[P]:P}return A&&(_=k(Math.round(_/b)*b,g)),U(g)||(_=k(_,g)),(_>r||_<i)&&(_=_>r?r:i,t&&N("update:modelValue",_)),_},O=e=>{var t;const r=c.currentValue,i=L(e);r!==i&&(c.userInput=null,N("update:modelValue",i),N("input",i),N("change",i,r),n.validateEvent&&((t=f==null?void 0:f.validate)==null||t.call(f,"change").catch(b=>j())),c.currentValue=i)},ne=e=>c.userInput=e,le=e=>{const t=e!==""?Number(e):"";(E(t)&&!Number.isNaN(t)||e==="")&&O(t),c.userInput=null},ue=()=>{var e,t;(t=(e=y.value)==null?void 0:e.focus)==null||t.call(e)},oe=()=>{var e,t;(t=(e=y.value)==null?void 0:e.blur)==null||t.call(e)},re=e=>{N("focus",e)},se=e=>{var t;N("blur",e),n.validateEvent&&((t=f==null?void 0:f.validate)==null||t.call(f,"blur").catch(r=>j()))};return _e(()=>n.modelValue,e=>{c.currentValue=L(e,!0),c.userInput=null},{immediate:!0}),te(()=>{var e;const{min:t,max:r,modelValue:i}=n,b=(e=y.value)==null?void 0:e.input;if(b.setAttribute("role","spinbutton"),Number.isFinite(r)?b.setAttribute("aria-valuemax",String(r)):b.removeAttribute("aria-valuemax"),Number.isFinite(t)?b.setAttribute("aria-valuemin",String(t)):b.removeAttribute("aria-valuemin"),b.setAttribute("aria-valuenow",String(c.currentValue)),b.setAttribute("aria-disabled",String(V.value)),!E(i)&&i!=null){let g=Number(i);Number.isNaN(g)&&(g=null),N("update:modelValue",g)}}),ve(()=>{var e;const t=(e=y.value)==null?void 0:e.input;t==null||t.setAttribute("aria-valuenow",`${c.currentValue}`)}),I({focus:ue,blur:oe}),(e,t)=>(F(),$("div",{class:W([a(m).b(),a(m).m(a(x)),a(m).is("disabled",a(V)),a(m).is("without-controls",!e.controls),a(m).is("controls-right",a(S))]),onDragstart:t[0]||(t[0]=q(()=>{},["prevent"]))},[e.controls?Y((F(),$("span",{key:0,role:"button","aria-label":a(d)("el.inputNumber.decrease"),class:W([a(m).e("decrease"),a(m).is("disabled",a(u))]),onKeydown:R(K,["enter"])},[l(a(J),null,{default:p(()=>[a(S)?(F(),T(a(Ne),{key:0})):(F(),T(a(Ve),{key:1}))]),_:1})],42,ze)),[[a(X),K]]):Z("v-if",!0),e.controls?Y((F(),$("span",{key:1,role:"button","aria-label":a(d)("el.inputNumber.increase"),class:W([a(m).e("increase"),a(m).is("disabled",a(h))]),onKeydown:R(s,["enter"])},[l(a(J),null,{default:p(()=>[a(S)?(F(),T(a(Ee),{key:0})):(F(),T(a(ge),{key:1}))]),_:1})],42,Ke)),[[a(X),s]]):Z("v-if",!0),l(a(ae),{id:e.id,ref_key:"input",ref:y,type:"number",step:e.step,"model-value":a(z),placeholder:e.placeholder,disabled:a(V),size:a(x),max:e.max,min:e.min,name:e.name,label:e.label,"validate-event":!1,onKeydown:[R(q(s,["prevent"]),["up"]),R(q(K,["prevent"]),["down"])],onBlur:se,onFocus:re,onInput:ne,onChange:le},null,8,["id","step","model-value","placeholder","disabled","size","max","min","name","label","onKeydown"])],34))}});var qe=Fe(We,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const Ge=Ie(qe);const He={class:"container"},Le={class:"form-box"},Ye=H("-"),Je=H("\u63D0\u4EA4"),Ze=H("\u91CD\u7F6E"),je=G({name:"baseform"}),dt=G({...je,setup(o){const I=M(null),N={appName:[{required:!0,message:"\u8BF7\u8F93\u5165\u5E94\u7528\u540D\u79F0",trigger:"blur"}],appCode:[{required:!0,message:"\u8BF7\u8F93\u5165\u5E94\u7528\u7F16\u7801",trigger:"blur"}]},n=M(),d=ee({appName:"",appCode:"",date1:"",date2:"",html:"",text:"",appStatus:!0,operatorRemark:""});M("Hello Editor!");let m;te(()=>{m=new Ae(I.value),m.config.zIndex=1,m.create()}),he(()=>{m.destroy(),m=null});const y=f=>{!f||f.validate(u=>{if(u)Te.success("\u63D0\u4EA4\u6210\u529F\uFF01");else return!1})},c=f=>{!f||f.resetFields()};return(f,u)=>{const h=ae,v=Se,S=Ge,x=Ce,V=xe,z=De,k=Be,C=we,w=ke;return F(),$("div",He,[Q("div",Le,[l(w,{ref_key:"formRef",ref:n,rules:N,model:d,"label-width":"80px"},{default:p(()=>[l(v,{label:"\u6BD4\u8D5B\u540D\u79F0",prop:"appName"},{default:p(()=>[l(h,{modelValue:d.appName,"onUpdate:modelValue":u[0]||(u[0]=s=>d.appName=s)},null,8,["modelValue"])]),_:1}),l(v,{label:"\u62A5\u540D\u4EBA\u6570",prop:"appCode"},{default:p(()=>[l(S,{modelValue:d.appCode,"onUpdate:modelValue":u[1]||(u[1]=s=>d.appCode=s),type:"number",placeholder:"\u9700\u4FDD\u8BC1\u5168\u5C40\u552F\u4E00"},null,8,["modelValue"])]),_:1}),l(v,{label:"\u6BD4\u8D5B\u540D\u79F0",prop:"appName"},{default:p(()=>[l(h,{modelValue:d.appName,"onUpdate:modelValue":u[2]||(u[2]=s=>d.appName=s)},null,8,["modelValue"])]),_:1}),l(v,{label:"\u65E5\u671F\u65F6\u95F4"},{default:p(()=>[l(V,{span:11},{default:p(()=>[l(v,{prop:"date1"},{default:p(()=>[l(x,{type:"date",placeholder:"\u9009\u62E9\u65E5\u671F",modelValue:d.date1,"onUpdate:modelValue":u[3]||(u[3]=s=>d.date1=s),style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),l(V,{class:"line",span:2},{default:p(()=>[Ye]),_:1}),l(V,{span:11},{default:p(()=>[l(v,{prop:"date2"},{default:p(()=>[l(z,{placeholder:"\u9009\u62E9\u65F6\u95F4",modelValue:d.date2,"onUpdate:modelValue":u[4]||(u[4]=s=>d.date2=s),style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(v,{label:"\u662F\u5426\u542F\u7528",prop:"appStatus"},{default:p(()=>[l(k,{modelValue:d.appStatus,"onUpdate:modelValue":u[5]||(u[5]=s=>d.appStatus=s)},null,8,["modelValue"])]),_:1}),l(v,{label:"\u5E94\u7528\u63CF\u8FF0",prop:"desc"},{default:p(()=>[l(h,{type:"textarea",rows:"5",modelValue:d.operatorRemark,"onUpdate:modelValue":u[6]||(u[6]=s=>d.operatorRemark=s)},null,8,["modelValue"])]),_:1}),Q("div",{class:"mgb20",ref_key:"editor",ref:I},null,512),l(v,null,{default:p(()=>[l(C,{type:"primary",onClick:u[7]||(u[7]=s=>y(n.value))},{default:p(()=>[Je]),_:1}),l(C,{onClick:u[8]||(u[8]=s=>c(n.value))},{default:p(()=>[Ze]),_:1})]),_:1})]),_:1},8,["model"])])])}}});export{dt as default};
